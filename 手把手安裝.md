## 第一次使用：先取得cookie並儲存  
- 補充在前：要**先把空白的cookie檔案建置好(不要懷疑，是檔案不是資料夾)**，並放在你希望的路徑內；以我自己為例：我會放在docker資料夾下的shopee資料夾內，而後我會將這**空白的cookie檔案路徑**帶入下一段的指令中     
```
touch /docker/shopee/cookie
```
記得給個666權限不然無法寫入
```
chmod 666 /docker/shopee/cookie
```
一開始不用特別先拉取images，以su權限運行以下指令時，系統未偵測到images就會自動拉取最新版的的images  
第一次使用時，需要提供蝦皮帳號密碼，並且強烈建議設定機器人登入後儲存 cookie 的位置，以便未來機器人能夠執行自動登入。如果沒有不指定一個 cookie 的位置，那未來每次登入都會需要帳號與密碼。  
docker運行需要su權限，建議先行切換至su；以下指令中username、 password兩處需填入帳密   
```sh
docker run -v /docker/shopee/cookie:/cookie hyperbola/shopee-coins-bot:1 -u username -p password -c /cookie
```
此時如果有進行第一次正確的登入，可以查看剛剛建立的空白cookie是不是有被寫入新值了
```
cat /docker/shopee/cookie
```

> **Warning**
>
> 機器人進行登入期間，你可能會收到來自 shopee 的 Email 或手機驗證簡訊，其中會有一個驗證登入的連結。請在 10 分鐘內進行驗證，在這期間機器人會等你。一旦你點了驗證簡訊後，機器人會立即繼續執行下去。

## 自動登入  
如果第一步有完成了，代表cookie已成功儲存，接下來都用 cookie 登入即可，這樣就不會觸發簡訊/信件驗證。  
因此第二次之後就可以把帳密的參數拿掉，直接用cookie的方式登入蝦皮
```sh
docker run -v /docker/shopee/cookie:/cookie hyperbola/shopee-coins-bot:1 -c /cookie
```

## 錦上添花→適用於Linux系統
- 為了方便整合，把每天運行的指令包在shell(shopee_auto_login.sh)中，利用crontab定期執行shopee_auto_login.sh，並新增在完成登入後以line通知的功能  
  - 新增shopee_auto_login.sh檔案(自己要知道該檔案路徑哪邊，稍後的crontab編輯時需要參照該路徑)，內容如下，修改其中的line token即可  
```sh
#! /bin/sh
docker run -v /docker/shopee/cookie:/cookie  hyperbola/shopee-coins-bot:1  -c /cookie
line_token='填上你的token'
curl --insecure -X POST -H "Authorization: Bearer $line_token" \
        -F "message=蝦皮領幣完成." \
        https://notify-api.line.me/api/notify
```
- 透過crontab建立每日排程，建立時間為每日上午8點30分，一樣是需要用su權限建立
```
crontab -e
```
新增以下參數，請填入shopee_auto_login.sh檔案的絕對路徑
```
30 8 * * *　/home/eric/shopee_auto_login.sh
```
並且重新啟用定時服務
```
service cron restart
```
